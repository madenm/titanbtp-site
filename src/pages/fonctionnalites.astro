---
import BaseLayout from '../layouts/BaseLayout.astro';
import FeatureDetail from '../components/FeatureDetail.astro';

const title = 'Fonctionnalités — TitanBTP | Devis, factures, planning et IA pour le BTP';
const description = 'Découvre toutes les fonctionnalités de TitanBTP : estimation IA, devis, factures, planning, CRM, gestion d\'équipe et plus encore. Conçu pour les artisans du BTP.';

const modules = [
  {
    title: 'Estimation automatique par IA',
    description: 'Prends une photo de ton chantier et laisse l\'IA faire le travail. En quelques secondes, tu obtiens une estimation détaillée : coût des matériaux, main d\'œuvre, durée estimée, équipe nécessaire et marge recommandée. Tu peux même créer un devis directement depuis l\'estimation.',
    features: [
      'Upload de photos (multiple)',
      'Analyse par IA (Gemini Vision)',
      'Questionnaire intelligent par type de projet',
      'Résultats détaillés : coût, matériaux, durée, équipe, marge',
      'Graphique de répartition des coûts',
      'Fourchette basse / haute avec indicateur de confiance',
      'Création de projet ou devis depuis l\'estimation',
      '12 types de projets : Piscine, Paysage, Menuiserie, Rénovation, Plomberie, Maçonnerie, Terrasse, Chauffage, Isolation, Électricité, Peinture, Autre',
    ],
    icon: `<svg class="w-7 h-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456z" /></svg>`,
    color: 'from-violet-500/20 to-purple-500/20',
  },
  {
    title: 'Générateur de devis',
    description: 'Finis les heures passées sur Excel. Crée des devis professionnels en quelques minutes grâce à un formulaire guidé en 3 étapes. L\'IA analyse ta description et pré-remplit les lignes de devis. Tu n\'as plus qu\'à ajuster et envoyer.',
    features: [
      'Formulaire en 3 étapes : client → description → lignes de devis',
      'Analyse IA de la description → pré-remplissage intelligent',
      'Catalogue de prix intégré (Artiprix + tarifs personnels)',
      'TVA paramétrable (0 %, 5,5 %, 10 %, 20 %)',
      'Remise en % ou montant fixe',
      'PDF professionnel avec logo, couleurs et infos légales',
      'Statuts : Brouillon → Envoyé → Accepté/Refusé → Validé',
      'Saisie vocale de la description',
      'Sous-lignes détaillées par lot',
      'Drag & drop pour réorganiser les lignes',
      'Auto-sauvegarde',
    ],
    icon: `<svg class="w-7 h-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" /></svg>`,
    color: 'from-blue-500/20 to-cyan-500/20',
  },
  {
    title: 'Gestion des factures',
    description: 'Transforme un devis accepté en facture en un seul clic. Suis tes paiements en temps réel, reçois des rappels automatiques pour les impayés et garde le contrôle sur ta trésorerie. Les factures respectent toutes les obligations légales françaises.',
    features: [
      'Création automatique depuis un devis validé',
      'Numérotation automatique conforme',
      'Suivi des paiements : virement, chèque, espèces, carte',
      'Statuts automatiques : brouillon, envoyée, partiellement payée, payée, annulée',
      'Envoi par email avec PDF en pièce jointe',
      'Rappels automatiques pour factures impayées',
      'Marquage rapide depuis le tableau de bord',
      'Mentions légales personnalisables (pénalités de retard, etc.)',
      'Barre de progression des paiements',
    ],
    icon: `<svg class="w-7 h-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z" /></svg>`,
    color: 'from-emerald-500/20 to-green-500/20',
  },
  {
    title: 'Gestion de projets & chantiers',
    description: 'Centralise tous tes chantiers au même endroit. Crée des fiches projet complètes avec photos, équipe assignée, devis et factures associés. Suis l\'avancement de chaque chantier en un coup d\'œil grâce aux KPIs en haut de page.',
    features: [
      'Création : nom, client, type, dates, description, photos, équipe',
      '12 types de projets supportés',
      'Statuts : Planifié → En cours → Terminé',
      'Photos de chantier (upload multiple)',
      'Association aux devis et factures',
      'Duplication et archivage de projet',
      'Assignation d\'équipe',
      'KPIs et statistiques en haut de page',
      'Tri et filtres avancés',
    ],
    icon: `<svg class="w-7 h-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008z" /></svg>`,
    color: 'from-amber-500/20 to-orange-500/20',
  },
  {
    title: 'Planning',
    description: 'Visualise ton planning en un instant. Passe de la vue liste à la vue semaine ou mois selon tes besoins. Chaque projet est coloré par statut pour que tu repères immédiatement ce qui est en cours, planifié ou terminé.',
    features: [
      '3 vues : liste, semaine, mois',
      'Bandeau résumé "Aujourd\'hui"',
      'Filtres par statut, type, membre d\'équipe',
      'Code couleur par statut',
      'Notes quotidiennes',
      'Actions rapides depuis le calendrier',
      'Barre de progression Gantt en vue liste',
    ],
    icon: `<svg class="w-7 h-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5" /></svg>`,
    color: 'from-sky-500/20 to-blue-500/20',
  },
  {
    title: 'CRM Pipeline',
    description: 'Suis chaque prospect du premier contact jusqu\'au paiement final. Le CRM en mode Kanban te permet de visualiser l\'avancement de chaque affaire et de ne jamais oublier une relance. Envoie devis et factures directement depuis le pipeline.',
    features: [
      'Kanban avec 9 étapes : Nouveau → Devis envoyé → Relances → Facture → Gagné/Perdu',
      'Drag & drop entre colonnes',
      'Envoi de devis/factures par email avec PDF',
      'Messages de relance personnalisables',
      'Fiche prospect détaillée',
      'Liens automatiques prospect ↔ devis/facture',
      'Indicateurs visuels : temps dans l\'étape, badges documents',
    ],
    icon: `<svg class="w-7 h-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5" /></svg>`,
    color: 'from-pink-500/20 to-rose-500/20',
  },
  {
    title: 'Gestion d\'équipe',
    description: 'Invite tes collaborateurs en un clic avec un simple lien ou code. Attribue des rôles et des permissions granulaires pour que chacun voie uniquement ce dont il a besoin. Chaque membre a un dashboard simplifié avec ses chantiers assignés.',
    features: [
      'Invitation par lien ou code',
      '5 rôles prédéfinis : Chef de projet, Ouvrier, Commercial, Assistant, Autre',
      '12 permissions granulaires',
      'Dashboard simplifié pour les membres',
      'Assignation aux projets',
      'Statistiques de charge de travail',
    ],
    icon: `<svg class="w-7 h-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" /></svg>`,
    color: 'from-teal-500/20 to-cyan-500/20',
  },
  {
    title: 'Gestion des clients',
    description: 'Crée des fiches clients complètes et retrouve-les en un instant. Tes clients peuvent même remplir leurs informations eux-mêmes grâce à un formulaire partageable. Chaque client est automatiquement associé à ses projets.',
    features: [
      'Fiche client complète',
      'Formulaire partageable (le client remplit ses infos)',
      'Association automatique aux projets',
      'Filtres : clients actifs, terminés',
    ],
    icon: `<svg class="w-7 h-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" /></svg>`,
    color: 'from-indigo-500/20 to-violet-500/20',
  },
  {
    title: 'Catalogue de tarifs',
    description: 'Gère ton propre catalogue de prix et accède au catalogue de référence Artiprix intégré. Importe tes tarifs existants au format CSV/Excel et utilise-les directement dans tes devis pour gagner du temps.',
    features: [
      'Catalogue personnel de prix',
      'Import CSV / Excel',
      '9 catégories de tarifs',
      'Intégration directe dans les devis',
      'Catalogue de référence Artiprix intégré',
    ],
    icon: `<svg class="w-7 h-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z" /></svg>`,
    color: 'from-lime-500/20 to-green-500/20',
  },
  {
    title: 'Paramètres & personnalisation',
    description: 'Configure ton entreprise une seule fois et tous tes documents seront personnalisés automatiquement. Logo, couleurs, infos légales, mentions par défaut — tout est centralisé pour que tes devis et factures soient toujours aux normes.',
    features: [
      'Infos entreprise et légales : SIRET, TVA, RCS, assurance décennale, qualifications',
      'Valeurs par défaut pour les documents',
      'Prévisualisation PDF en direct',
      'Logo et couleurs personnalisables',
      'Gestion du compte utilisateur',
    ],
    icon: `<svg class="w-7 h-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>`,
    color: 'from-gray-500/20 to-slate-500/20',
  },
];
---

<BaseLayout title={title} description={description}>
  <!-- Hero -->
  <section class="pt-28 pb-12 lg:pt-40 lg:pb-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <span class="text-sm font-semibold text-primary-light uppercase tracking-wider">Fonctionnalités</span>
      <h1 class="mt-4 text-4xl sm:text-5xl font-extrabold text-white leading-tight">
        Tout pour gérer ton activité BTP,<br class="hidden sm:block" />
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary-light to-primary">dans un seul outil</span>
      </h1>
      <p class="mt-6 text-lg text-gray-400 max-w-2xl mx-auto">
        10 modules pensés pour le quotidien des artisans. Chaque fonctionnalité t'aide à
        travailler plus vite et à ne rien oublier.
      </p>
    </div>
  </section>

  <!-- Feature sections -->
  <section class="pb-20 lg:pb-28">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="divide-y divide-white/5">
        {
          modules.map((mod, i) => (
            <FeatureDetail
              title={mod.title}
              description={mod.description}
              features={mod.features}
              icon={mod.icon}
              color={mod.color}
              reversed={i % 2 !== 0}
            />
          ))
        }
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-20 lg:py-28">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl sm:text-4xl font-bold text-white">
        Prêt à simplifier ta gestion ?
      </h2>
      <p class="mt-4 text-gray-400 text-lg">
        Inscris-toi gratuitement et commence à utiliser TitanBTP en 2 minutes.
      </p>
      <div class="mt-8">
        <a
          href="/contact"
          class="inline-flex items-center gap-2 bg-cta hover:bg-cta-dark text-gray-900 font-semibold rounded-xl px-8 py-4 text-lg transition-all hover:shadow-lg hover:shadow-cta/25"
        >
          Nous contacter
          <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6" /></svg>
        </a>
      </div>
    </div>
  </section>
</BaseLayout>
